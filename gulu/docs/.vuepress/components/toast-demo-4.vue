<template>
  <div class="demo">
    <g-button @click="showToast">ç‚¹æˆ‘æœ‰æƒŠå–œ</g-button>
    <p>å›è°ƒæ‰§è¡Œç»“æœï¼š{{msg}}</p>
  </div>
</template>
<script>
import Toast from "../../../src/toast";
import Button from "../../../src/button";
import Toastplugin from "../../../src/toast-plugin";
import Vue from "vue";
Vue.use(Toastplugin);
export default {
  components: {
    "g-button": Button
  },
  data() {
    return {
      msg: "å›è°ƒå‡½æ•°è¿˜æœªæ‰§è¡Œ"
    };
  },
  methods: {
    showToast() {
      const propData = {
        autoClose: false,
        closeButton: {
          text: "æ®‹å¿æ‹’ç»",
          callBack: toast => {
            this.msg = "è®© " + toast.$slots.default[0] + "ï¼Œè¢«æ‹’ç»äº†";
          }
        }
      };
      const zoo = ["ğŸ¶", "ğŸ±", "ğŸ­", "ğŸ¹", "ğŸ°", "ğŸ¦Š", "ğŸ»", "ğŸ¼", "ğŸ¨", "ğŸ¯"];
      let num = Math.floor(Math.random() * 10);
      const message = zoo[num] + "ç»™ä¸ªäº”æ˜Ÿå¥½è¯„";
      this.$toast(message, propData);
    }
  }
};
</script>
<style lang="scss" scoped>
.toast-wrap {
  z-index: 20;
}
.demo {
  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.2);
  border-color: #eee;
  border-radius: 4px;
  padding: 2em;
}
</style>
