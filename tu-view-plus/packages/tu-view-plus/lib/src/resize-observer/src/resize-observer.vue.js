"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("vue"),d=require("resize-observer-polyfill"),l=require("@tu-view-plus/hooks"),v=t.defineComponent({name:"TuResizeObserver",props:{watchOnUpdated:Boolean},emits:["resize"],setup(b,{emit:o,slots:n}){const{children:s,firstElement:u}=l.useFirstElement();let r;const c=e=>{e&&(r=new d(a=>{const f=a[0];o("resize",f)}),r.observe(e))},i=()=>{r&&(r.disconnect(),r=null)};return t.watch(u,e=>{r&&i(),e&&c(e)}),t.onBeforeUnmount(()=>{r&&i()}),()=>{var e;return s.value=(e=n.default)==null?void 0:e.call(n),s.value}}});exports.default=v;
