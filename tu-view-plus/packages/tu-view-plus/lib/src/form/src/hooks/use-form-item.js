"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const c=require("vue"),y=require("@tu-view-plus/hooks"),o=require("../constants.js"),F=()=>{const i=c.inject(o.formContextKey,void 0),u=c.inject(o.formItemContextKey,void 0);return{form:i,formItem:u}},h=(i,{formItemContext:u,disableIdGeneration:p,disableIdManagement:s})=>{p||(p=c.ref(!1)),s||(s=c.ref(!1));const v=c.ref();let d;const n=c.computed(()=>{var r;return!!(!i.label&&u&&u.inputIds&&((r=u.inputIds)==null?void 0:r.length)<=1)});return c.onMounted(()=>{d=c.watch([c.toRef(i,"id"),p],([r,l])=>{const e=r??(l?void 0:y.useId().value);e!==v.value&&(u!=null&&u.removeInputId&&(v.value&&u.removeInputId(v.value),!(s!=null&&s.value)&&!l&&e&&u.addInputId(e)),v.value=e)},{immediate:!0})}),c.onUnmounted(()=>{d&&d(),u!=null&&u.removeInputId&&v.value&&u.removeInputId(v.value)}),{isLabeledByFormItem:n,inputId:v}};exports.useFormItem=F;exports.useFormItemInputId=h;
